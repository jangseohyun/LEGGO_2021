<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.leggo.login.IMemberLoginDAO">

	<select id="Login" resultType="com.leggo.login.MemberLoginDTO">
		SELECT V.MEM_ID AS MEM_ID, D.MEM_PW AS MEM_PW, V.MEM_NNM AS MEM_NNM
		     , V.MEM_IMG AS MEM_IMG, V.ACCT_ST AS ACCT_ST, V.ADMIN_CD AS ADMIN_CD
		FROM MEMBERVIEW V, MEMBER_DATA D
		WHERE V.MEM_ID = D.MEM_ID
		  AND D.MEM_ID = #{mem_id}
		  AND D.MEM_PW = CRYPTPACK.ENCRYPT(#{mem_pw},#{mem_pw})
	</select>
	
</mapper>
